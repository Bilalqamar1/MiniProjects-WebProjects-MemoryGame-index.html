<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>Smart Task Manager</title>
<style>
  body { font-family: Arial; background: #f4f4f4; padding: 40px; text-align: center; }
  h1 { margin-bottom: 20px; }
  input, button { padding: 10px; margin: 5px; font-size: 16px; }
  ul { list-style: none; padding: 0; max-width: 400px; margin: auto; }
  li { background: #fff; margin: 5px 0; padding: 10px; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; }
  .done { text-decoration: line-through; color: gray; }
  .btn { cursor: pointer; background: #0066cc; color: #fff; border: none; border-radius: 4px; }
</style>
</head>
<body>

<h1>Smart Task Manager</h1>
<input type="text" id="taskInput" placeholder="Tilføj ny opgave">
<button class="btn" onclick="addTask()">Tilføj</button>

<ul id="taskList"></ul>

<script>
// Load tasks from localStorage
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

function saveTasks() {
  localStorage.setItem('tasks', JSON.stringify(tasks));
  renderTasks();
}

function renderTasks() {
  const ul = document.getElementById('taskList');
  ul.innerHTML = '';
  tasks.forEach((task, index) => {
    const li = document.createElement('li');
    li.textContent = task.text;
    if(task.done) li.classList.add('done');

    li.onclick = () => toggleDone(index);

    const delBtn = document.createElement('button');
    delBtn.textContent = 'Slet';
    delBtn.classList.add('btn');
    delBtn.onclick = (e) => {
      e.stopPropagation();
      deleteTask(index);
    };

    li.appendChild(delBtn);
    ul.appendChild(li);
  });
}

function addTask() {
  const input = document.getElementById('taskInput');
  if(input.value.trim() === '') return;
  tasks.push({text: input.value, done: false});
  input.value = '';
  saveTasks();
}

function toggleDone(index) {
  tasks[index].done = !tasks[index].done;
  saveTasks();
}

function deleteTask(index) {
  tasks.splice(index, 1);
  saveTasks();
}

// Initial render
renderTasks();
</script>

</body>
</html>
